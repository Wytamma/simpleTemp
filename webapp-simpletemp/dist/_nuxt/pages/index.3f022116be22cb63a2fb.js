webpackJsonp([1],{"+ptz":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""},on:{click:t.initialise}},[t._v("Refresh")]),a("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""}},[t._v("Download")]),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Edit")])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{attrs:{label:"Descriptive Name"},model:{value:t.editedItem.name,callback:function(e){t.$set(t.editedItem,"name",e)},expression:"editedItem.name"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{attrs:{label:"Max Temp"},model:{value:t.editedItem.max,callback:function(e){t.$set(t.editedItem,"max",e)},expression:"editedItem.max"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{attrs:{label:"Min Temp"},model:{value:t.editedItem.min,callback:function(e){t.$set(t.editedItem,"min",e)},expression:"editedItem.min"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.close(e)}}},[t._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.save(e)}}},[t._v("Save")])],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.items,"hide-actions":"",loading:t.loading},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.time))]),a("td",{staticClass:"text-xs-center"},[a("b",{staticStyle:{"font-size":"28px"}},[t._v(t._s(e.item.temperature))])]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.name))]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.max))]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.min))]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.probe_id))]),a("td",{staticClass:"justify-center layout px-0"},[a("v-btn",{staticClass:"mx-0",attrs:{icon:""},on:{click:function(a){t.editItem(e.item)}}},[a("v-icon",{attrs:{color:"teal"}},[t._v("edit")])],1)],1)]}}])},[a("v-progress-linear",{attrs:{slot:"progress",color:"blue",indeterminate:""},slot:"progress"}),a("template",{slot:"no-data"},[a("v-btn",{attrs:{color:"primary"},on:{click:t.initialise}},[t._v("Reload")])],1)],2)],1)};i._withStripped=!0;var s={render:i,staticRenderFns:[]};e.a=s},"/TYz":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("DN/X"),s=a("+ptz"),n=a("VU/8")(i.a,s.a,!1,null,null,null);n.options.__file="pages/index.vue",e.default=n.exports},"DN/X":function(t,e,a){"use strict";var i=a("woOf"),s=a.n(i),n=a("mtWM"),r=a.n(n),l="http://10.0.0.39:5000";e.a={data:function(){return{headers:[{text:"Time",value:"time",align:"center"},{text:"Temperature (˚C)",value:"temperature",align:"center"},{text:"Name",value:"name",align:"center"},{text:"Max (˚C)",value:"max",align:"center"},{text:"Min (˚C)",value:"min",align:"center"},{text:"Probe id",value:"probe_id",align:"center"}],dialog:!1,interval:null,probes:[],errors:[],items:[],temperatures:[],loading:!0,editedItem:{name:"",probe_id:"0",max:0,min:0,temperature:0,time:""},editedIndex:null}},created:function(){this.initialise(),this.interval=setInterval(function(){this.updateTemps()}.bind(this),5e3)},methods:{initialise:function(){var t=this;this.items=[],this.loading=!0,r.a.get(l+"/probes").then(function(e){t.probes=e.data.data;for(var a=function(e){var a=t.probes[e];r.a.get(l+"/records/"+a.probe_id+"?limit=1").then(function(e){var i=e.data.data[0];i.max=a.max,i.min=a.min,a.name||(a.name=a.probe_id),i.name=a.name,t.items.push(i),t.loading=!1}).catch(function(e){console.log(e),t.errors.push(e)})},i=0;i<t.probes.length;i++)a(i)}).catch(function(e){console.log(e),t.errors.push(e)})},updateTemps:function(){var t=this;this.loading=!0;for(var e=function(e){var a=t.items[e].probe_id;r.a.get(l+"/records/"+a+"?limit=1").then(function(a){t.items[e].temperature=a.data.data[0].temperature,t.items[e].time=a.data.data[0].time,t.loading=!1}).catch(function(e){console.log(e),t.errors.push(e)})},a=0;a<this.items.length;a++)e(a)},editItem:function(t){this.editedIndex=this.items.indexOf(t),this.editedItem=s()({},t),this.dialog=!0},save:function(){var t=this;s()(this.items[this.editedIndex],this.editedItem);var e=new URLSearchParams;e.append("name",this.editedItem.name),e.append("max",this.editedItem.max),e.append("min",this.editedItem.min),e.append("probe_id",this.editedItem.probe_id),r.a.put(l+"/probes?",e).then(function(t){console.log(t.data.message)}).catch(function(e){console.log(e),t.errors.push(e)}),this.close()},close:function(){this.dialog=!1}},beforeDestroy:function(){clearInterval(this.interval)}}}});